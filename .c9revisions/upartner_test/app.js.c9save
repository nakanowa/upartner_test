{"ts":1353335285712,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n/**\n * Module dependencies.\n */\n\nvar express = require('express')\n  , routes = require('./routes')\n  , user = require('./routes/user')\n  , http = require('http')\n  , path = require('path');\n\nvar app = express();\n\napp.configure(function(){\n  app.set('port', process.env.PORT || 3000);\n  app.set('views', __dirname + '/views');\n  app.set('view engine', 'jade');\n  app.use(express.favicon());\n  app.use(express.logger('dev'));\n  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n  app.use(require('stylus').middleware(__dirname + '/public'));\n  app.use(express.static(path.join(__dirname, 'public')));\n});\n\napp.configure('development', function(){\n  app.use(express.errorHandler());\n});\n\napp.get('/', routes.index);\napp.get('/users', user.list);\n\nhttp.createServer(app).listen(app.get('port'), function(){\n  console.log(\"Express server listening on port \" + app.get('port'));\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":919}]],"length":919}
{"contributors":[],"silentsave":false,"ts":1353383087982,"patch":[[{"diffs":[[0,"', '"],[-1,"jade"],[1,"ejs"],[0,"');\n"]],"start1":349,"start2":349,"length1":12,"length2":11},{"diffs":[[0,"verride());\n"],[1,"  app.use(express.cookieParser('your secret here'));\n  app.use(express.session());\n"],[0,"  app.use(ap"]],"start1":482,"start2":482,"length1":24,"length2":107},{"diffs":[[0,"t('port'));\n});\n"],[1,"\napp.get('login', routes.login);\n\n\n\n"]],"start1":985,"start2":985,"length1":16,"length2":52}]],"length":1037,"saved":false}
{"ts":1353383663665,"patch":[[{"diffs":[[0,"pp.get('"],[1,"/"],[0,"login', "]],"start1":1003,"start2":1003,"length1":16,"length2":17}]],"length":1038,"saved":false}
{"ts":1353383941858,"patch":[[{"diffs":[[0,"s.login)"],[-1,";"],[1,"{\n    var user = req.param(\"user\");\n    var pass = req.param(\"pass\");\n    \n    res.render('index',{talkarea : user + pass})\n}"],[0,"\n\n\n\n"]],"start1":1025,"start2":1025,"length1":13,"length2":137}]],"length":1162,"saved":false}
{"ts":1353383974032,"patch":[[{"diffs":[[0,"n){\n"],[-1,"    var user = req.param(\"user\");\n    var pass = req.param(\"pass\");\n    \n    res.render('index',{talkarea : user + pass})"],[0,"\n}\n\n"]],"start1":1031,"start2":1031,"length1":129,"length2":8}]],"length":1041,"saved":false}
{"ts":1353384004254,"patch":[[{"diffs":[[0,"gin)"],[-1,"{\n\n}"],[1,";"],[0,"\n\n\n\n"]],"start1":1029,"start2":1029,"length1":12,"length2":9}]],"length":1038,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353828746142,"patch":[[{"diffs":[[0,"app."],[-1,"get('/login', routes.login"],[1,"locals.use(function(req, res){\n    app.locals.textarea = req.body.talkarea\" || '¥n'\n}"],[0,");\n\n\n"],[1,"}"],[0,"\n"]],"start1":1002,"start2":1002,"length1":36,"length2":96}]],"length":1098,"saved":false}
{"ts":1353828765141,"patch":[[{"diffs":[[0,");\n\n"],[-1,"app.locals.use(function(req, res){\n    app.locals.textarea = req.body.talkarea\" || '¥n'\n});\n\n\n}"],[1,"\n"],[0,"\n"]],"start1":998,"start2":998,"length1":100,"length2":6}]],"length":1004,"saved":false}
{"ts":1353828885754,"patch":[[{"diffs":[[0,";\n});\n\n\n"],[1,"app.locals(function(req, res){\n    app.locals.textarea = req.body.talkarea\" || '¥n'\n});\n\n\n"],[0,"\n"]],"start1":995,"start2":995,"length1":9,"length2":99}]],"length":1094,"saved":false}
{"ts":1353828910637,"patch":[[{"diffs":[[0,"p.locals"],[1,".use"],[0,"(functio"]],"start1":1005,"start2":1005,"length1":16,"length2":20}]],"length":1098,"saved":false}
{"ts":1353831685295,"patch":[[{"diffs":[[0,";\n});\n\n\n"],[1,"exports.create = function(req, res){\n  console.log(req.body.textarea);\n  res.redirect('/');\n\n/*\n"],[0,"app.loca"]],"start1":995,"start2":995,"length1":16,"length2":112},{"diffs":[[0,"¥n'\n});\n"],[1,"*/"],[0,"\n\n\n"]],"start1":1183,"start2":1183,"length1":11,"length2":13}]],"length":1196,"saved":false}
{"ts":1353831716710,"patch":[[{"diffs":[[0,");\n\n"],[-1,"\nexports.create = function(req, res){\n  console.log(req.body.textarea);\n  res.redirect('/');\n\n"],[0,"/*\na"]],"start1":998,"start2":998,"length1":102,"length2":8}]],"length":1102,"saved":false}
{"ts":1353832477307,"patch":[[{"diffs":[[0,"r.list);"],[1,"\napp.post('/', routes.index)"],[0,"\n\nhttp.c"]],"start1":858,"start2":858,"length1":16,"length2":44}]],"length":1130,"saved":false}
{"ts":1353832479562,"patch":[[{"diffs":[[0,"s.index)"],[1,";"],[0,"\n\nhttp.c"]],"start1":886,"start2":886,"length1":16,"length2":17}]],"length":1131,"saved":false}
{"ts":1353832612681,"patch":[[{"diffs":[[0,"\napp.post('/"],[1,"talk"],[0,"', routes.in"]],"start1":866,"start2":866,"length1":24,"length2":28}]],"length":1135,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353833202832,"patch":[[{"diffs":[[0," routes."],[-1,"index"],[1,"talk"],[0,");\n\nhttp"]],"start1":884,"start2":884,"length1":21,"length2":20}]],"length":1134,"saved":false}
{"ts":1353833661212,"patch":[[{"diffs":[[0,"app."],[-1,"ge"],[1,"pos"],[0,"t('/"],[-1,"users', user.list"],[1,"talk', routes.talk"],[0,");\napp."],[-1,"pos"],[1,"ge"],[0,"t('/"],[-1,"talk', routes.talk"],[1,"users', user.list"],[0,");\n\n"]],"start1":837,"start2":837,"length1":63,"length2":63}]],"length":1134,"saved":false}
{"ts":1353833686522,"patch":[[{"diffs":[[0,"t('/"],[-1,"users"],[0,"', u"]],"start1":875,"start2":875,"length1":13,"length2":8}]],"length":1129,"saved":false}
{"ts":1353833869344,"patch":[[{"diffs":[[0,".post('/"],[-1,"talk"],[0,"', route"]],"start1":840,"start2":840,"length1":20,"length2":16}]],"length":1125,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353836425986,"patch":[[{"diffs":[[0,"p.get('/"],[1,"user"],[0,"', user."]],"start1":867,"start2":867,"length1":16,"length2":20}]],"length":1129,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353836605539,"patch":[[{"diffs":[[0,".talk);\n"],[1,"app.post('/', routes.login);\n"],[0,"app.get("]],"start1":857,"start2":857,"length1":16,"length2":45}]],"length":1158,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354018346328,"patch":[[{"diffs":[[0," routes."],[-1,"talk"],[1,"login"],[0,");\napp.p"]],"start1":850,"start2":850,"length1":20,"length2":21},{"diffs":[[0,"'/', routes."],[-1,"login"],[1,"talk"],[0,");\napp.get('"]],"start1":875,"start2":875,"length1":29,"length2":28}]],"length":1158,"saved":false}
{"ts":1354018599874,"patch":[[{"diffs":[[0,"st('/', "],[-1,"routes"],[1,"login"],[0,".login);"]],"start1":843,"start2":843,"length1":22,"length2":21}]],"length":1157,"saved":false}
{"ts":1354019002031,"patch":[[{"diffs":[[0,"er());\n});\n\n"],[1,"/**\nvar login_check = function(req, res, next){\n    if(req.session.login == true){\n        next()\n    }else{\n        res.redirect('/login')\n    }\n}\n**//\n\n"],[0,"app.get('/',"]],"start1":797,"start2":797,"length1":24,"length2":178},{"diffs":[[0,"st('/', "],[-1,"login"],[1,"routes"],[0,".login);"]],"start1":997,"start2":997,"length1":21,"length2":22}]],"length":1312,"saved":false}
{"ts":1354019083281,"patch":[[{"diffs":[[0,"});\n\n/**"],[-1,""],[0,""],[1," ログイン状態チェック"],[0,"\nvar log"]],"start1":804,"start2":804,"length1":16,"length2":27},{"diffs":[[0,"login =="],[1,"="],[0," true){\n"]],"start1":887,"start2":887,"length1":16,"length2":17},{"diffs":[[0,"irect('/"],[-1,"login"],[0,"')\n    }"]],"start1":945,"start2":945,"length1":21,"length2":16},{"diffs":[[0,"   }\n}\n*"],[-1,"*/"],[0,""],[1,""],[0,"/\n\napp.g"]],"start1":957,"start2":957,"length1":18,"length2":16}]],"length":1317,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354023848297,"patch":[[{"diffs":[[0,"}\n}\n*/\n\n"],[1,"//mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n\n"],[0,"app.get("]],"start1":960,"start2":960,"length1":16,"length2":89}]],"length":1390,"saved":false}
{"ts":1354024432281,"patch":[[{"diffs":[[0,"090326 \n"],[1,"//mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\n\n\n"],[0,"\napp.get"]],"start1":1032,"start2":1032,"length1":16,"length2":87}]],"length":1461,"saved":false}
{"ts":1354025389812,"patch":[[{"diffs":[[0,");\n});\n\n"],[1,"//"],[0,"// mongo"]],"start1":801,"start2":801,"length1":16,"length2":18},{"diffs":[[0,"dbサーバ設定\n"],[1,"//"],[0,"var mong"]],"start1":819,"start2":819,"length1":16,"length2":18},{"diffs":[[0,"ngoose;\n"],[-1,"\n"],[1,"//\n/"],[0,"//"],[1,"/"],[0," collect"]],"start1":866,"start2":866,"length1":19,"length2":23},{"diffs":[[0,"onモデル定義\n"],[1,"//"],[0,"mongoose"]],"start1":890,"start2":890,"length1":16,"length2":18},{"diffs":[[0,"user',{\n"],[1,"//"],[0,"    prop"]],"start1":916,"start2":916,"length1":16,"length2":18},{"diffs":[[0,"il'],\n//"],[1,"/"],[1,"/"],[0,"    meth"]],"start1":973,"start2":973,"length1":16,"length2":18},{"diffs":[[0,"ds   :{\n"],[1,"//"],[0,"//      "]],"start1":992,"start2":992,"length1":16,"length2":18},{"diffs":[[0,"ion (fn){\n//"],[1,"/"],[1,"/"],[0,"            "]],"start1":1024,"start2":1024,"length1":24,"length2":26},{"diffs":[[0,"Date();\n"],[1,"//"],[0,"//      "]],"start1":1072,"start2":1072,"length1":16,"length2":18},{"diffs":[[0,"__(fn);\n"],[1,"//"],[0,"//      "]],"start1":1107,"start2":1107,"length1":16,"length2":18},{"diffs":[[0,"       \n"],[1,"//"],[0,"    }\n"],[1,"//"],[0,"});\n\n\n\n/"]],"start1":1129,"start2":1129,"length1":22,"length2":26}]],"length":1925,"saved":false}
{"ts":1354025411453,"patch":[[{"diffs":[[0,");\n});\n\n"],[-1,"//"],[0,"// mongo"]],"start1":801,"start2":801,"length1":18,"length2":16},{"diffs":[[0,"dbサーバ設定\n"],[-1,"//"],[0,"var mong"]],"start1":817,"start2":817,"length1":18,"length2":16},{"diffs":[[0,"se;\n"],[-1,"//\n/"],[1,"\n"],[0,"//"],[-1,"/"],[0," col"]],"start1":866,"start2":866,"length1":15,"length2":11},{"diffs":[[0,"onモデル定義\n"],[-1,"//"],[0,"mongoose"]],"start1":882,"start2":882,"length1":18,"length2":16},{"diffs":[[0,"user',{\n"],[-1,"//"],[0,"    prop"]],"start1":906,"start2":906,"length1":18,"length2":16},{"diffs":[[0,"il'],\n//"],[-1,"/"],[-1,"/"],[0,"    meth"]],"start1":961,"start2":961,"length1":18,"length2":16},{"diffs":[[0,"ds   :{\n"],[-1,"//"],[0,"//      "]],"start1":978,"start2":978,"length1":18,"length2":16},{"diffs":[[0,"(fn){\n//"],[-1,"/"],[-1,"/"],[0,"        "]],"start1":1012,"start2":1012,"length1":18,"length2":16},{"diffs":[[0,"Date();\n"],[-1,"//"],[0,"//      "]],"start1":1054,"start2":1054,"length1":18,"length2":16},{"diffs":[[0,"__(fn);\n"],[-1,"//"],[0,"//      "]],"start1":1087,"start2":1087,"length1":18,"length2":16},{"diffs":[[0,"   \n"],[-1,"//"],[0,"    }\n"],[-1,"//"],[0,"});\n"]],"start1":1111,"start2":1111,"length1":18,"length2":14}]],"length":1899,"saved":false}
{"ts":1354025533047,"patch":[[{"diffs":[[0," \n    }\n"],[-1,"}"],[0,");\n\n\n\n/*"]],"start1":1113,"start2":1113,"length1":17,"length2":16}]],"length":1898,"saved":false}
{"ts":1354026018391,"patch":[[{"diffs":[[0,"se')"],[-1,".Mongoose"],[0,";"],[1,"\n"],[0,"\n\n//"]],"start1":855,"start2":855,"length1":18,"length2":10},{"diffs":[[0,");\n\n"],[-1,"\n\n/** ログイン状態チェック\nvar login_check = function(req, res, next){\n    if(req.session.login === true){\n        next()\n    }else{\n        res.redirect('/')\n    }\n}\n*/\n\n"],[0,"// m"]],"start1":1113,"start2":1113,"length1":169,"length2":8},{"diffs":[[0,"er');\n\n\n"],[1,"/** ログイン状態チェック\nvar login_check = function(req, res, next){\n    if(req.session.login === true){\n        next()\n    }else{\n        res.redirect('/')\n    }\n}\n*/\n\n\n\n"],[0,"app.get("]],"start1":1372,"start2":1372,"length1":16,"length2":177}]],"length":1890,"saved":false}
{"ts":1354026145317,"patch":[[{"diffs":[[0,"\n// "],[-1,"collectionモデル定義\nmongoose.model('user',{\n    properties:['userid','password','name','email'],\n//    methods   :{\n//        save  :function (fn){\n//            this.created_at = new Date();\n//            this.__suer__(fn);\n//        }        \n    }\n);\n\n// mongodb(mongolab)接続\n//mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n//mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\nvar db = mongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');"],[1,"mongodb(mongolab)接続\n//mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n//mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\nmongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n\n// collectionモデル定義\nmongoose.model('user',{\n    properties:['userid','password','name','email'],\n//    methods   :{\n//        save  :function (fn){\n//            this.created_at = new Date();\n//            this.__suer__(fn);\n//        }        \n    }\n);\n"],[0,"\n\n\n/"]],"start1":862,"start2":862,"length1":519,"length2":511}]],"length":1882,"saved":false}
{"ts":1354026322078,"patch":[[{"diffs":[[0,");\n\n"],[-1,"\n// mongodb(mongolab)接続\n//mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n//mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\nmongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');"],[0,"\n\n//"]],"start1":858,"start2":858,"length1":260,"length2":8}]],"length":1630,"saved":false}
{"ts":1354026395296,"patch":[[{"diffs":[[0,"ose');\n\n"],[-1,"\n\n"],[0,"// colle"]],"start1":854,"start2":854,"length1":18,"length2":16},{"diffs":[[0," }\n);\n\n\n"],[1,"var db = mongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n\n\n"],[0,"\n/** ログイ"]],"start1":1109,"start2":1109,"length1":16,"length2":115}]],"length":1727,"saved":false}
{"ts":1354026471531,"patch":[[{"diffs":[[0,"ngoose')"],[1,".Mongoose"],[0,";\n\n// co"]],"start1":851,"start2":851,"length1":16,"length2":25}]],"length":1736,"saved":false}
{"ts":1354026591312,"patch":[[{"diffs":[[0,"goose;\n\n"],[1,"mongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n\n"],[0,"// colle"]],"start1":863,"start2":863,"length1":16,"length2":105},{"diffs":[[0,";\n\n\n"],[-1,"var db = mongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n"],[0,"\n\n\n/"]],"start1":1211,"start2":1211,"length1":105,"length2":8}]],"length":1728,"saved":false}
{"ts":1354026699828,"patch":[[{"diffs":[[0,"se')"],[-1,".Mongoose"],[0,";\n\nm"]],"start1":855,"start2":855,"length1":17,"length2":8}]],"length":1719,"saved":false}
{"ts":1354026763531,"patch":[[{"diffs":[[0,"onモデル定義\n"],[1,"//"],[0,"mongoose"]],"start1":962,"start2":962,"length1":16,"length2":18},{"diffs":[[0,"user',{\n"],[1,"//"],[0,"    prop"]],"start1":988,"start2":988,"length1":16,"length2":18},{"diffs":[[0,"       \n"],[1,"//"],[0,"    }\n"],[1,"//"],[0,");\n\n\n\n\n\n"]],"start1":1191,"start2":1191,"length1":22,"length2":26}]],"length":1727,"saved":false}
{"ts":1354026781140,"patch":[[{"diffs":[[0,"ner');\n\n"],[1,"\n\n"],[0,"// colle"]],"start1":943,"start2":943,"length1":16,"length2":18}]],"length":1729,"saved":false}
{"ts":1354026786421,"patch":[[{"diffs":[[0,"onモデル定義\n"],[1,"mongoose.model('user');\n\n"],[0,"//mongoo"]],"start1":964,"start2":964,"length1":16,"length2":41}]],"length":1754,"saved":false}
{"contributors":[],"silentsave":true,"restoring":1354026591312,"ts":1354026962921,"patch":[[{"diffs":[[0,"tner\n\n\n\n"],[-1,"\n\n"],[0,"/** ログイン"]],"start1":945,"start2":945,"length1":18,"length2":16},{"diffs":[[0,";\n*/"],[-1,"mongodb(mongolab)接続\n//mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n//mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\nmongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n\n// collectionモデル定義\nmongoose.model('user',{\n    properties:['userid','password','name','email'],\n//    methods   :{\n//        save  :function (fn){\n//            this.created_at = new Date();\n//            this.__suer__(fn);\n//        }        \n    }\n);\n"],[0,"\n\n\n"]],"start1":1456,"start2":1456,"length1":510,"length2":7}]],"length":1463,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354030086920,"patch":[[{"diffs":[[0,");\n\n"],[-1,"//mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n//mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\n\n\n\n"],[0,"/** "]],"start1":805,"start2":805,"length1":152,"length2":8},{"diffs":[[0,"}\n}\n*/\n\n"],[-1,"\n\n"],[0,"app.get("]],"start1":960,"start2":960,"length1":18,"length2":16}]],"length":1317,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354030359143,"patch":[[{"diffs":[[0,");\n});\n\n"],[1,"\nvar mongoose = require('mongoose');\n  //mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n  //mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\n  mongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n  \n  \n\n//"],[0,"/** ログイン"]],"start1":801,"start2":801,"length1":16,"length2":297},{"diffs":[[0,"ン状態チェック\n"],[1,"//"],[0,"var logi"]],"start1":1097,"start2":1097,"length1":16,"length2":18},{"diffs":[[0," next){\n"],[1,"//"],[0,"    if(r"]],"start1":1143,"start2":1143,"length1":16,"length2":18},{"diffs":[[0," true){\n"],[1,"//"],[0,"        "]],"start1":1181,"start2":1181,"length1":16,"length2":18},{"diffs":[[0," next()\n"],[1,"//"],[0,"    }els"]],"start1":1198,"start2":1198,"length1":16,"length2":18},{"diffs":[[0," }else{\n"],[1,"//"],[0,"        "]],"start1":1211,"start2":1211,"length1":16,"length2":18},{"diffs":[[0,"/')\n"],[1,"//"],[0,"    }\n"],[-1,"}\n"],[1,"//}\n//"],[0,"*/\n\n"]],"start1":1243,"start2":1243,"length1":16,"length2":22}]],"length":1614,"saved":false}
{"ts":1354031006349,"patch":[[{"diffs":[[0,"r');\n  \n"],[1,"    var Schema = mongoose.Schema;\n  \n    var userSchema = new Schema({\n        userid:String,\n        password:String,\n        name:String,\n        email:String\n    });\n  \n    var UserModel = mongoose.model('user',userSchema)\n  \n"],[0,"  \n\n///*"]],"start1":1076,"start2":1076,"length1":16,"length2":245}]],"length":1843,"saved":false}
{"ts":1354031023057,"patch":[[{"diffs":[[0,";\n\n\n"],[-1,"var mongoose = require('mongoose');\n  //mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n  //mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\n  mongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n  \n    var Schema = mongoose.Schema;\n  \n    var userSchema = new Schema({\n        userid:String,\n        password:String,\n        name:String,\n        email:String\n    });\n  \n    var UserModel = mongoose.model('user',userSchema)\n  \n  "],[0,"\n\n//"]],"start1":806,"start2":806,"length1":513,"length2":8}]],"length":1338,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354379706708,"patch":[[{"diffs":[[0,");\n});\n\n"],[1,"//*Mongoose dabase接続"],[0,"\n\n\n///**"]],"start1":801,"start2":801,"length1":16,"length2":36}]],"length":1358,"saved":false}
{"ts":1354379988539,"patch":[[{"diffs":[[0,");\n\n"],[-1,"//*Mongoose dabase接続\n"],[1,"\nvar mongoose = require('mongoose');\n  //mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n  //mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\n  mongoose.connect('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n  \n  "],[0,"\n\n//"]],"start1":805,"start2":805,"length1":29,"length2":285}]],"length":1614,"saved":false}
{"ts":1354380200084,"patch":[[{"diffs":[[0,");\n});\n\n"],[1,"// mongooseを使ってmongodbのdatabaseに接続する"],[0,"\nvar mon"]],"start1":801,"start2":801,"length1":16,"length2":52},{"diffs":[[0,"upartner"],[1,"/users"],[0,"');\n  \n "]],"start1":1105,"start2":1105,"length1":16,"length2":22}]],"length":1656,"saved":false}
{"ts":1354380252565,"patch":[[{"diffs":[[0,"partner\n"],[-1," "],[1,"var db ="],[0," mongoos"]],"start1":1019,"start2":1019,"length1":17,"length2":24},{"diffs":[[0,"se.c"],[1,"reateC"],[0,"onnect"],[1,"ion"],[0,"('mo"]],"start1":1042,"start2":1042,"length1":14,"length2":23}]],"length":1672,"saved":false}
{"ts":1354380610409,"patch":[[{"diffs":[[0,"aseに接続する"],[1,"（'users'db）"],[0,"\nvar mon"]],"start1":837,"start2":837,"length1":16,"length2":27},{"diffs":[[0,"partner\n"],[1,"  //mongolabのwebログインユーザはtetsuya\n"],[0,"var db ="]],"start1":1030,"start2":1030,"length1":16,"length2":48},{"diffs":[[0,"s');\n  \n"],[1,"// mongodbの接続確認を行う  \n"],[0,"  \n\n///*"]],"start1":1177,"start2":1177,"length1":16,"length2":37}]],"length":1736,"saved":false}
{"ts":1354380821994,"patch":[[{"diffs":[[0,"ers'db）\n"],[1,"    "],[0,"var mong"]],"start1":849,"start2":849,"length1":16,"length2":20},{"diffs":[[0,"oose');\n"],[1,"  "],[0,"  //mong"]],"start1":889,"start2":889,"length1":16,"length2":18},{"diffs":[[0,"090326 \n"],[1,"  "],[0,"  //mong"]],"start1":965,"start2":965,"length1":16,"length2":18},{"diffs":[[0,"partner\n"],[1,"  "],[0,"  //mong"]],"start1":1038,"start2":1038,"length1":16,"length2":18},{"diffs":[[0,"tetsuya\n"],[1,"    "],[0,"var db ="]],"start1":1072,"start2":1072,"length1":16,"length2":20},{"diffs":[[0,"tner"],[-1,"/users"],[0,"');\n"]],"start1":1182,"start2":1182,"length1":14,"length2":8},{"diffs":[[0,"を行う  \n  "],[1,"  db.on('error',console.error.bind(\n      console, 'connection error:'));\n    db.once('open',function callback(){\n        //正常時の処理\n        consel.log('success');\n    });"],[0,"\n\n///** "]],"start1":1208,"start2":1208,"length1":16,"length2":185}]],"length":1913,"saved":false}
{"ts":1354381106231,"patch":[[{"diffs":[[0,"    cons"],[1,"ol"],[0,"e"],[-1,"l"],[0,".log('su"]],"start1":1351,"start2":1351,"length1":18,"length2":19},{"diffs":[[0,"   });\n\n"],[1,"// データの取得に使うSchemaの定義\n    var usersSchema = new mongoose.Schema({\n        userid   : String,\n        password : String,\n        name     : String,\n        email    : String\n    })\n\n// コンパイルしたSchemaをmodelの中に入れる\n    var users = db.model('user', usersSchema);\n    \n\n"],[0,"///** ログ"]],"start1":1380,"start2":1380,"length1":16,"length2":279}]],"length":2177,"saved":false}
{"ts":1354382473988,"patch":[[{"diffs":[[0,"ath');\n\n"],[1,"//"],[0,"var app "]],"start1":184,"start2":184,"length1":16,"length2":18},{"diffs":[[0,"ress();\n"],[1,"var app = module.exports = express();\n\n"],[0,"\napp.con"]],"start1":207,"start2":207,"length1":16,"length2":55}]],"length":2218,"saved":false}
{"ts":1354382910815,"patch":[[{"diffs":[[0,"a);\n    "],[1,"\n    app.locals.use(function(req, res){\n    app.locals.users = users\n})"],[0,"\n\n///** "]],"start1":1682,"start2":1682,"length1":16,"length2":87}]],"length":2289,"saved":false}
{"ts":1354382976889,"patch":[[{"diffs":[[0,"    "],[-1,"\n    app.locals.use(function(req, res){\n    app.locals.users = users\n})"],[0,"\n\n//"]],"start1":1686,"start2":1686,"length1":79,"length2":8}]],"length":2218,"saved":false}
{"ts":1354383046352,"patch":[[{"diffs":[[0,"a);\n    "],[1,"\n    app.set('users',users);"],[0,"\n\n///** "]],"start1":1682,"start2":1682,"length1":16,"length2":44}]],"length":2246,"saved":false}
{"ts":1354385536049,"patch":[[{"diffs":[[0,"lの中に入れる\n    "],[-1,"var "],[0,"users = db.m"]],"start1":1631,"start2":1631,"length1":28,"length2":24}]],"length":2242,"saved":false}
{"ts":1354385552066,"patch":[[{"diffs":[[0,");\n    \n    "],[1,"//"],[0,"app.set('use"]],"start1":1679,"start2":1679,"length1":24,"length2":26}]],"length":2244,"saved":false}
{"ts":1354386140947,"patch":[[{"diffs":[[0,"lの中に入れる\n    "],[1,"var "],[0,"users = db.m"]],"start1":1631,"start2":1631,"length1":24,"length2":28}]],"length":2248,"saved":false}
{"ts":1354416474225,"patch":[[{"diffs":[[0,"og('"],[1,"db connect "],[0,"success"],[1,"fully "],[0,"');\n"]],"start1":1405,"start2":1405,"length1":15,"length2":32}]],"length":2265,"saved":false}
{"ts":1354420685221,"patch":[[{"diffs":[[0,"));\n});\n"],[-1,"\n"],[1,"//\n//"],[0,"// mongo"]],"start1":841,"start2":841,"length1":17,"length2":21},{"diffs":[[0,"ers'db）\n"],[1,"//"],[0,"    var "]],"start1":894,"start2":894,"length1":16,"length2":18},{"diffs":[[0,"mongoose');\n"],[1,"//"],[0,"    //mongo "]],"start1":932,"start2":932,"length1":24,"length2":26},{"diffs":[[0,"090326 \n"],[1,"//"],[0,"    //mo"]],"start1":1014,"start2":1014,"length1":16,"length2":18},{"diffs":[[0,"partner\n"],[1,"//"],[0,"    //mo"]],"start1":1089,"start2":1089,"length1":16,"length2":18},{"diffs":[[0,"tetsuya\n"],[1,"//"],[0,"    var "]],"start1":1125,"start2":1125,"length1":16,"length2":18},{"diffs":[[0,"tner');\n"],[1,"//"],[0,"  \n"],[1,"//"],[0,"// mongo"]],"start1":1237,"start2":1237,"length1":19,"length2":23},{"diffs":[[0,"確認を行う  \n"],[1,"//"],[0,"    db.o"]],"start1":1265,"start2":1265,"length1":16,"length2":18},{"diffs":[[0,"r.bind(\n"],[1,"//"],[0,"      co"]],"start1":1305,"start2":1305,"length1":16,"length2":18},{"diffs":[[0,"or:'));\n"],[1,"//"],[0,"    db.o"]],"start1":1345,"start2":1345,"length1":16,"length2":18},{"diffs":[[0,"back(){\n"],[1,"//"],[0,"        "]],"start1":1387,"start2":1387,"length1":16,"length2":18},{"diffs":[[0,"/正常時の処理\n"],[1,"//"],[0,"        "]],"start1":1406,"start2":1406,"length1":16,"length2":18},{"diffs":[[0,"');\n"],[1,"//"],[0,"    });\n"],[-1,"\n"],[1,"//\n//"],[0,"// デ"]],"start1":1461,"start2":1461,"length1":17,"length2":23},{"diffs":[[0,"hemaの定義\n"],[1,"//"],[0,"    var "]],"start1":1494,"start2":1494,"length1":16,"length2":18},{"diffs":[[0,"chema({\n"],[1,"//"],[0,"        "]],"start1":1540,"start2":1540,"length1":16,"length2":18},{"diffs":[[0,"rid   : String,\n"],[1,"//"],[0,"        password"]],"start1":1561,"start2":1561,"length1":32,"length2":34},{"diffs":[[0,"sword : String,\n"],[1,"//"],[0,"        name    "]],"start1":1590,"start2":1590,"length1":32,"length2":34},{"diffs":[[0,"String,\n"],[1,"//"],[0,"        "]],"start1":1627,"start2":1627,"length1":16,"length2":18},{"diffs":[[0,"ing\n"],[1,"//"],[0,"    })\n"],[1,"//"],[0,"\n"],[1,"//"],[0,"// コ"]],"start1":1659,"start2":1659,"length1":16,"length2":22},{"diffs":[[0,"lの中に入れる\n"],[1,"//"],[0,"    var "]],"start1":1698,"start2":1698,"length1":16,"length2":18},{"diffs":[[0,"chema);\n"],[1,"//"],[0,"    \n   "]],"start1":1747,"start2":1747,"length1":16,"length2":18}]],"length":2319,"saved":false}
{"ts":1354422187161,"patch":[[{"diffs":[[0,"\n});"],[-1,"\n//\n//// mongooseを使ってmongodbのdatabaseに接続する（'users'db）\n//    var mongoose = require('mongoose');\n//    //mongo ds033037.mongolab.com:33037/upartner -u upartner -p up08090326 \n//    //mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner\n//    //mongolabのwebログインユーザはtetsuya\n//    var db = mongoose.createConnection('mongodb://upartner:up08090326@ds033037.mongolab.com:33037/upartner');\n//  \n//// mongodbの接続確認を行う  \n//    db.on('error',console.error.bind(\n//      console, 'connection error:'));\n//    db.once('open',function callback(){\n//        //正常時の処理\n//        console.log('db connect successfully ');\n//    });\n//\n//// データの取得に使うSchemaの定義\n//    var usersSchema = new mongoose.Schema({\n//        userid   : String,\n//        password : String,\n//        name     : String,\n//        email    : String\n//    })\n//\n//// コンパイルしたSchemaをmodelの中に入れる\n//    var users = db.model('user', usersSchema);\n//    \n    //app.set('users',users);"],[0,"\n\n//"]],"start1":844,"start2":844,"length1":951,"length2":8}]],"length":1376,"saved":false}
{"ts":1354428452869,"patch":[[{"diffs":[[0,".talk);\n"],[1,"app.post('/', routes.signup);\n"],[0,"app.get("]],"start1":1104,"start2":1104,"length1":16,"length2":46}]],"length":1406,"saved":false}
{"ts":1354434021811,"patch":[[{"diffs":[[0,"ex);\napp.post('/"],[1,"login"],[0,"', routes.login)"]],"start1":1050,"start2":1050,"length1":32,"length2":37},{"diffs":[[0,"lk);\napp.post('/"],[1,"signup"],[0,"', routes.signup"]],"start1":1112,"start2":1112,"length1":32,"length2":38}]],"length":1417,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354964202641,"patch":[[{"diffs":[[0,"/user')\n"],[1,"  , signup = require('./routes/signup')\n"],[0,"  , http"]],"start1":128,"start2":128,"length1":16,"length2":56},{"diffs":[[0,"}\n//*/\n\n"],[1,"// ルート定義\n"],[0,"app.get("]],"start1":1059,"start2":1059,"length1":16,"length2":25},{"diffs":[[0,".post('/"],[-1,"login"],[0,"', route"]],"start1":1107,"start2":1107,"length1":21,"length2":16},{"diffs":[[0," routes."],[-1,"login"],[1,"talk"],[0,");\napp.p"]],"start1":1117,"start2":1117,"length1":21,"length2":20},{"diffs":[[0,"lk);\napp.post('/"],[1,"login"],[0,"', routes.talk);"]],"start1":1127,"start2":1127,"length1":32,"length2":37},{"diffs":[[0,"tes."],[-1,"talk"],[1,"login"],[0,");\napp."],[-1,"pos"],[1,"ge"],[0,"t('/"],[-1,"signup', routes.signup"],[1,"user', user.list"],[0,");\n"],[1,"\n"],[0,"app."]],"start1":1154,"start2":1154,"length1":51,"length2":46},{"diffs":[[0,"pp.get('"],[-1,"/user', user.list"],[1,"')\napp.post('/signup', signup.do"],[0,");\n\n"],[1,"\n"],[0,"http.cre"]],"start1":1197,"start2":1197,"length1":37,"length2":53},{"diffs":[[0,"tion(){\n"],[1,"  "],[0,"  consol"]],"start1":1293,"start2":1293,"length1":16,"length2":18},{"diffs":[[0,");\n\n"],[-1,"/*\napp.locals.use(function(req, res){\n    app.locals.textarea = req.body.talkarea\" || '¥n'\n});\n*/\n"],[0,"\n\n"]],"start1":1374,"start2":1374,"length1":104,"length2":6}]],"length":1380,"saved":false}
{"ts":1354964241312,"patch":[[{"diffs":[[0,"pp.get('"],[1,"/"],[0,"')\napp.p"]],"start1":1197,"start2":1197,"length1":16,"length2":17},{"diffs":[[0,".post('/"],[-1,"signup"],[1,"do"],[0,"', signu"]],"start1":1212,"start2":1212,"length1":22,"length2":18}]],"length":1377,"saved":false}
{"ts":1354964253244,"patch":[[{"diffs":[[0,"p.get('/"],[-1,"')"],[1,"signup', signup.index);"],[0,"\napp.pos"]],"start1":1198,"start2":1198,"length1":18,"length2":39}]],"length":1398,"saved":false}
{"ts":1354964783298,"patch":[[{"diffs":[[0," signup."],[-1,"do"],[1,"signup"],[0,");\n\n\nhtt"]],"start1":1245,"start2":1245,"length1":18,"length2":22}]],"length":1402,"saved":false}
{"ts":1354964787972,"patch":[[{"diffs":[[0,"t('/"],[-1,"do"],[0,"', s"]],"start1":1237,"start2":1237,"length1":10,"length2":8}]],"length":1400,"saved":false}
{"ts":1354964793335,"patch":[[{"diffs":[[0,".post('/"],[1,"signup"],[0,"', signu"]],"start1":1233,"start2":1233,"length1":16,"length2":22}]],"length":1406,"saved":false}
{"ts":1354964799970,"patch":[[{"diffs":[[0,"\napp.post('/"],[-1,"signup"],[1,"do"],[0,"', signup.si"]],"start1":1229,"start2":1229,"length1":30,"length2":26}]],"length":1402,"saved":false}
{"contributors":[],"silentsave":false,"ts":1355026561996,"patch":[[{"diffs":[[0,"login);\n"],[1,"app.get('/login', routes.index);\n"],[0,"app.get("]],"start1":1158,"start2":1158,"length1":16,"length2":49},{"diffs":[[0,"ignup);\n"],[1,"app.get('/do', signup.index);"],[0,"\n\nhttp.c"]],"start1":1287,"start2":1287,"length1":16,"length2":45}]],"length":1464,"saved":false}
{"contributors":[],"silentsave":false,"ts":1355026957191,"patch":[[{"diffs":[[0,"in', routes."],[-1,"index"],[1,"loginGet"],[0,");\napp.get('"]],"start1":1179,"start2":1179,"length1":29,"length2":32}]],"length":1467,"saved":false}
{"ts":1355027214321,"patch":[[{"diffs":[[0,"tes."],[-1,"l"],[1,"getL"],[0,"ogin"],[-1,"Get"],[0,");\na"]],"start1":1187,"start2":1187,"length1":16,"length2":16},{"diffs":[[0," signup."],[-1,"index"],[1,"getSignup"],[0,");\n\nhttp"]],"start1":1312,"start2":1312,"length1":21,"length2":25}]],"length":1471,"saved":false}
{"ts":1355027569741,"patch":[[{"diffs":[[0,"gnup);\n\n"],[1,"app.post('/userList', userlist.index);\n\n"],[0,"http.cre"]],"start1":1325,"start2":1325,"length1":16,"length2":56}]],"length":1511,"saved":false}
{"ts":1355027611256,"patch":[[{"diffs":[[0,"es/signup')\n"],[1,"  , userList = require('./routes/userList')\n"],[0,"  , http = r"]],"start1":164,"start2":164,"length1":24,"length2":68},{"diffs":[[0,"t', user"],[-1,"l"],[1,"L"],[0,"ist.inde"]],"start1":1395,"start2":1395,"length1":17,"length2":17}]],"length":1555,"saved":false}
{"contributors":[],"silentsave":false,"ts":1355047163703,"patch":[[{"diffs":[[0,".post('/user"],[-1,"L"],[1,"l"],[0,"ist', userLi"]],"start1":1380,"start2":1380,"length1":25,"length2":25},{"diffs":[[0,"index);\n"],[1,"app.post('/userDelete', userList.userDelete);\n\n"],[0,"\nhttp.cr"]],"start1":1408,"start2":1408,"length1":16,"length2":63}]],"length":1602,"saved":false}
{"ts":1355047175084,"patch":[[{"diffs":[[0,".post('/user"],[-1,"D"],[1,"d"],[0,"elete', user"]],"start1":1419,"start2":1419,"length1":25,"length2":25}]],"length":1602,"saved":false}
{"ts":1355047236598,"patch":[[{"diffs":[[0,"tes/user"],[-1,"L"],[1,"l"],[0,"ist')\n  "]],"start1":205,"start2":205,"length1":17,"length2":17}]],"length":1602,"saved":false}
{"contributors":[],"silentsave":false,"ts":1355392345254,"patch":[[{"diffs":[[0,"ser("],[-1,"'your secret here'"],[0,"));\n"]],"start1":646,"start2":646,"length1":26,"length2":8}]],"length":1584,"saved":false}
{"ts":1355392386579,"patch":[[{"diffs":[[0,"session("],[1,"{secret:\"Keyboard cat\"}"],[0,"));\n  ap"]],"start1":672,"start2":672,"length1":16,"length2":39}]],"length":1607,"saved":false}
{"ts":1355392773992,"patch":[[{"diffs":[[0,");\n});\n\n"],[-1,"//"],[0,"/** ログイン"]],"start1":931,"start2":931,"length1":18,"length2":16},{"diffs":[[0,"ン状態チェック\n"],[-1,"//"],[0,"var logi"]],"start1":946,"start2":946,"length1":18,"length2":16},{"diffs":[[0," next){\n"],[-1,"//"],[0,"    if(r"]],"start1":990,"start2":990,"length1":18,"length2":16},{"diffs":[[0,"ogin"],[1,"flg"],[0," === "],[-1,"true"],[1,"\"1\""],[0,"){\n"],[-1,"//"],[0,"    "]],"start1":1018,"start2":1018,"length1":22,"length2":22},{"diffs":[[0," next()\n"],[-1,"//"],[0,"    }els"]],"start1":1043,"start2":1043,"length1":18,"length2":16},{"diffs":[[0," }else{\n"],[-1,"//"],[0,"        "]],"start1":1054,"start2":1054,"length1":18,"length2":16},{"diffs":[[0,"/')\n"],[-1,"//"],[0,"    }\n"],[-1,"//}\n//"],[1,"}\n"],[0,"*/\n\n"]],"start1":1084,"start2":1084,"length1":22,"length2":16}]],"length":1591,"saved":false}
{"ts":1355392797200,"patch":[[{"diffs":[[0,"イン状態チェック"],[1," **/"],[0,"\nvar log"]],"start1":945,"start2":945,"length1":16,"length2":20},{"diffs":[[0,"  next()"],[1,";"],[0,"\n    }el"]],"start1":1046,"start2":1046,"length1":16,"length2":17},{"diffs":[[0,"'/')"],[1,";"],[0,"\n    }\n}"],[-1,"\n*/"],[1,";"],[0,"\n\n//"]],"start1":1088,"start2":1088,"length1":19,"length2":18}]],"length":1595,"saved":false}
{"contributors":[],"silentsave":false,"ts":1355401956109,"patch":[[{"diffs":[[0,");\n\n"],[-1,"/** ログイン状態チェック **/\nvar login_check = function(req, res, next){\n    if(req.session.loginflg === \"1\"){\n        next();\n    }else{\n        res.redirect('/');\n    }\n};\n"],[0,"\n// "]],"start1":935,"start2":935,"length1":172,"length2":8}]],"length":1431,"saved":false}
{"ts":1355402407968,"patch":[[{"diffs":[[0,";\n});\n\n\n"],[1,"\n"],[0,"// ルート定義"]],"start1":932,"start2":932,"length1":16,"length2":17}]],"length":1432,"saved":false}
{"ts":1355402545546,"patch":[[{"diffs":[[0,".getLogin);\n"],[1,"app.post('/logout', routes.logout);\napp.get('/logout', routes.getLogout);\n"],[0,"app.get('/us"]],"start1":1064,"start2":1064,"length1":24,"length2":98}]],"length":1506,"saved":false}
